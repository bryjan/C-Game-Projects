#include <iostream>
#include <string>
#include <iomanip>
#include <ctime>
#include <stdlib.h>

using namespace std;
bool gameState=true;
char terChar[40][30];
int fur=0;
int food=15;
int energy=15;
int score= 0;

void stats(int fur, int food, int energy, int score);
char mapGen(int seed);
void printMap();
char choice();
void movement(char d);
void reprint();
void enviorment(char);

int main()
{
    int seed=0;
    cout<<"Enter seed #:  ";
    cin>>seed;
    
    char dire=' ';
    int y=-1;
    for(int i=0;i<30;i++)
    { y++;
    for(int x=0;x<40;x++)
        {
            terChar[x][y]=mapGen(seed);
         }
    }
stats(fur,food,energy,score);
printMap();

do
{
dire=choice();
movement(dire);
cout<<endl<<endl<<endl<<endl<<endl;
enviorment(dire);
stats(fur,food,energy,score);
printMap();
}while(gameState=true);

return 0;
}

char mapGen(int seed)
{
    int genNum=0; 
     genNum= rand()*seed % 100; 
     
if(genNum<50) 
return '_'; 
else if(genNum<80) 
return 'f'; 
else if(genNum<99) 
return 'm'; 
else 
return 'C'; 
    }
    
void printMap()
{
    
    int y=-1;
    for(int i=0;i<30;i++)
    { y++;
    for(int x=0;x<40;x++)
        {
            if(x==0||x==39||y==0||y==29)
                cout<<"X";
            else if(x==20&&y==15)
                cout<<"A";
            else
                cout<<terChar[x][y];
         }
         cout<<endl;
    }
}

char choice()
{
    char l;
    cout<<endl<<endl<<" use 'wasd' to move:  ";
    cin>>l;
    return l;
    }
    
void movement(char d)
{
   if(d=='w')
    {
    int y=-1;
    for(int i=0;i<30;i++)
        { y++;
        for(int x=0;x<40;x++)
            {
                terChar[39-x][29-y]=terChar[39-x][28-y];
            }
        }
        
    }
    else if(d=='s')
      {
        int y=-1;
         for(int i=0;i<30;i++)
            { y++;
            for(int x=0;x<40;x++)
                {
                    terChar[x][y]=terChar[x][y+1];
                }
        }
      }
    else if(d=='d')
        {
        int y=-1;
        for(int i=0;i<30;i++)
            { y++;
            for(int x=0;x<40;x++)
                {
                terChar[x][y]=terChar[x+1][y];
                }
            }
        }
    else if(d=='a')
        { 
        int y=-1;
        for(int i=0;i<30;i++)
            { y++;
            for(int x=0;x<40;x++)
                {
                terChar[x][y]=terChar[37-x][29-y];
                }
            }
        }
    else
        {
        if(terChar[20][15]=='f')
            {
            energy-=3;
            food+= rand()*energy % 4 +1;
            fur+=rand()*food % 3;
            }
        else if(terChar[20][15]=='_')
            {
            energy+=rand()*food % 3+1;
            food-=1;
            }
        }
}
    
void enviorment(char)
{
    if (terChar[20][15]=='C')
        {
        score++;
        energy =15;
        food+=fur;
        fur=0;
        }
    else if(terChar[20][15]=='_')
        {
        energy-=1;
        food-=1;
        }
    else if(terChar[20][15]=='f')
        {
            energy-=2;
            food+= rand()*energy % 2 -1;
        }
    else
        {
            energy-=3;
            food-=2;
        }
    
}

void stats(int fur, int food, int energy, int score)
{cout<<"fur: "<<fur<<"   food: "<<food<<"   energy: "<<energy<<endl;
cout<<"score: "<<score<<endl;
}
    
